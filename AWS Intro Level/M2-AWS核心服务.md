M2-AWS核心服务

概述：

AWS云服务包括：

Amazon Elastic Compute Cloud (EC2),

Amazon Elastic Block Store (EBS),

Amazon Simple Storage Service (S3),

AWS 全球基础设施，

Amazon Virtual Private Cloud (VPC),

安全组

---

Amazon Elastic Cloud Computer (EC2)

---弹性的云端电脑

定义：

Elastic：如果配置正确，用户可以根据应用程序的当前需求自动增加或减少所需服务器的数量

Compute： 应用程序服务器，web服务器， 数据库服务器， 游戏服务器，邮件服务器，媒体服务器，目录服务器，文件服务器，计算服务器，代理服务器，其他

Cloud： 以上内容由云托管

~~server~~ Amazon EC2 

EC2实例：

优势：

1. 按实际使用量付费
2. 丰富的硬件/软件选择
3. 全球托管
4. 等等

流程：

1. 登录AWS控制台
2. 选择区域
3. 启动EC2向导
4. 选择AMI（软件）

AMI 定义： Amazon系统映像， Amazon Machine Image，能够为实例提供软件平台

5. 选择实例类型（硬件）
6. 配置网络
7. 配置存储
8. 配置密钥对
9. 启动并连接

---

Amazon Elastic Block Store (EBS)

服务简介:

（类似磁盘空间服务）

```
1. 选择HDD或SSD
2. 针对EC2实例的持久性可自定义块存储
3. 在同一可用区中复制
4. 使用快照备份
5. 轻松透明加密
6. 弹性卷
```



---

Quiz：

在基础设施中使用Amazon EC2 实例相对于使用物理服务器有哪些优势？

A: 能够满足不同的存储要求

​	仅需按实际用量付费



---

Amazon Simple Storage Service （S3）

简介：

```
什么是Amazon S3
托管的云存储服务
存储几乎无限数量的对象
随时随地进行访问
丰富的安全控制
```

常见使用案例

```
1. 存储应用程序资产
2. 静态Web托管 （包括HTML，CSS，JavaScript及其他）
3. 备份和灾难恢复 
4. 用于大数据的暂存区域
5. 更多场景
```



---

AWS全球基础设施

1. AWS区域
2. 可用区
3. 边缘站点



AWS区域：

是托管两个或多个可用区的地理区域，并且属于AWS服务的组织级别。部署资源时，客户需要选择资源所在的区域。 选择区域时，一定要考虑哪个区域有助于优化延迟，同时能最大限度地降低成本，并符合法规要求。客户也可以在多个区域部署资源，以便更好地满足业务需求。

各个区域是完全独立的个体，一个区域中的资源不会自动复制到其他区域中，并不是所有的服务在所有区域内都可用，尽管一些最常见的AWS服务在所有区域内都可用（例如S3 或EC2）。



可用区：

可用区是指特定区域内的数据中心集合。每个可用区都与其他可用区在物理上隔离，但它们都由快速、低延迟的网络连接在一起。每个可用区都是物理上独具特点的独立基础设施，它们在物理和逻辑上都相互独立。它们还都有者各自互不相连的不间断电源、现场备用发动机、散热设备以及网络连接。它们由独立公用事业公司的不同电网供应电力。通过多家第一层出书提供商联网。 

隔离可用区意味着它们不会受其他可用区故障的影响，这样可以确保高可用性以及在区域内实现数据冗余。这样，如果一个可用区出现故障，其他可用区仍然可以处理请求。

因此，用户应当考虑跨多个可用区预置数据。



边缘站点：

AWS边缘站点托管内容分发网络（CDN），称之为Amazon CloudFront。其用于向客户分发内容，内容请求将自动路由到最近的边缘站点，以便内容能快速地分发给最终用户。

当使用边缘站点的全球网络时，客户能够享受到更快的内容分发服务，因为边缘站点向区域和可用区一样通常位于人口密集区域。

---

Quiz：

AWS基础设施的哪个组件是指一个地理区域内的多个相互隔离的位置？

A: 可用区。

---

Amazon Virtual Private Cloud (VPC)

简介

```
1. AWS云中的私有虚拟网络
- 使用的概念与本地网络相同
2. 用户可以完全控制网络配置
- 能够在VPC内隔离和公开资源
3. 提供多层安全控制
- 能够允许和拒绝特定的Internet 和内部流量
4. 其他AWS服务部署到VPC
- 在网络中实现服务固有的安全性
```



Amazon VPC是一项AWS基础服务与多种AWS服务集成。

例：可已经EC2实例部署到VPC中。



功能：

```
1. 基于AWS区域和可用区（AZ）的高可用性而构建
	- Amazon VPC位于一个区域中
	- 一个账户多个VPC
2. 子网
	- 用于划分Amazon VPC
	- 允许Amazon VPC跨越多个可用区
	- 尽管建议创建少量子网，以便限制网络拓扑的复杂性，但这完全取决于用户。 
3. 路由表
 	- 控制传出子网的流量
4. 互联网网关（IGW）
	- 允许从Amazon VPC 访问Internet
5. NAT网关
	- 允许私有子网中的资源访问Internet
6. 网络访问控制列表（NACL）
	-控制对子网的访问，无状态
```



*** 10.0.0.0/16 是无类别域间路由格式 ，表示在这个VPC中我们有超过65000个IP地址可供使用**

---

AWS 安全组

- 重中之重
- 安全组
  - 用作内置防火墙
  - 控制对实例的访问

在默认情况下，所有的入站流量都被拒绝，所有的出站流量都被允许。如果想要更改规则，可以单间inbound入站和outbound出站选显卡来调整规则。

*** 最佳做法是找出什么流量是实例必需的，以及专门仅允许相关流量**

---

Quiz：

哪项关于Amazon Virtual Private Clouds (VPC)的陈述是正确的？

A： 您可以在VPC中创建很多子网，尽管建议创建少量子网以便限制复杂性。



